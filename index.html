<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Online Grocery Store</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { color: green; }
    .product { border: 1px solid #ccc; padding: 10px; margin: 10px; display: inline-block; width: 200px; text-align: center; }
    .cart { margin-top: 20px; border-top: 2px solid #000; padding-top: 10px; }
    button { margin-top: 5px; padding: 5px 10px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Welcome to Online Grocery Store ðŸ›’</h1>
  <p>Buy fresh fruits, vegetables, and more online.</p>

  <div id="products"></div>

  <div class="cart">
    <h2>Your Cart</h2>
    <ul id="cartItems"></ul>
    <p>Total Items: <span id="totalItems">0</span></p>
    <p>Total Price: $<span id="totalPrice">0.00</span></p>
    <button onclick="clearCart()">Clear Cart</button>
    <button onclick="buyCart()">Buy</button>
  </div>

  <script>
    const products = [
      { id: 1, name: "Apple", price: 1.5 },
      { id: 2, name: "Banana", price: 0.75 },
      { id: 3, name: "Carrot", price: 0.5 },
      { id: 4, name: "Tomato", price: 1.2 },
    ];

    // Cart will store { product, quantity }
    let cart = [];

    function displayProducts() {
      const container = document.getElementById("products");
      container.innerHTML = "";
      products.forEach(product => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
          <h3>${product.name}</h3>
          <p>Price: $${product.price.toFixed(2)}</p>
          <button onclick="addToCart(${product.id})">Add to Cart</button>
        `;
        container.appendChild(div);
      });
    }

    function addToCart(id) {
      const product = products.find(p => p.id === id);
      const cartItem = cart.find(item => item.product.id === id);

      if (cartItem) {
        cartItem.quantity += 1;
      } else {
        cart.push({ product, quantity: 1 });
      }

      updateCart();
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCart();
    }

    function clearCart() {
      cart = [];
      updateCart();
    }

    function buyCart() {
      if (cart.length === 0) {
        alert("Your cart is empty!");
      } else {
        alert(`Thank you for your purchase! Total: $${calculateTotal().toFixed(2)}`);
        clearCart();
      }
    }

    function calculateTotal() {
      return cart.reduce((sum, item) => sum + item.product.price * item.quantity, 0);
    }

    function updateCart() {
      const cartList = document.getElementById("cartItems");
      cartList.innerHTML = "";

      cart.forEach((item, index) => {
        const li = document.createElement("li");
        li.textContent = `${item.product.name} - $${item.product.price.toFixed(2)} x ${item.quantity} = $${(item.product.price * item.quantity).toFixed(2)} `;
        const removeBtn = document.createElement("button");
        removeBtn.textContent = "Remove";
        removeBtn.onclick = () => removeFromCart(index);
        li.appendChild(removeBtn);
        cartList.appendChild(li);
      });

      document.getElementById("totalItems").textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById("totalPrice").textContent = calculateTotal().toFixed(2);
    }

    displayProducts();
  </script>
</body>
</html>
